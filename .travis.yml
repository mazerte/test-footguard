language: node_js
node_js:
  - "0.10"

env:
  global:
    secure: M0fi0SMDtqyALeKLzONkEOA7+P9EWBTdjtn6GnxHc9EodYTIo1B4/Stg3nFus842whq1mm4mfEctWu3Jc/sTtyfi+N115hlqjb10mPZiqp7zBFpaqh8ikRDBRTYrkL2dCfsUNN1YqUrD52JUhQn67bo3sSDnoQA018bs+Lt1/9g=

before_script:
  - npm install -g bower grunt-cli
  - gem install compass
  - bower install

script:
  - grunt test
  - cat ./coverage/coverage.lcov | ./node_modules/coveralls/bin/coveralls.js src/coffee/app

after_success:
  - grunt build
  - REPO="https://$GH_USER:$GH_PASSWORD@github.com/mazerte/test-footguard" ./scripts/gh-pages.sh